{% extends "../base.njk" %}

{% block titulo %}Appointment | Ficha{% endblock %}

{% block content %}

    <h1>Ficha de Appointment</h1>

    {% if errores.general %}
        <p class="alert alert-danger">{{ errores.general }}</p>
    {% endif %}

    <form action="/records/{{records._id}}/appointments" method="post">
        <div class="form-group">
            <label for="date">Date:</label>
            {% if errores.date %}
                <p class="text-danger">{{ errores.date }}</p>
            {% endif %}
            <input type="date" class="form-control" name="date" 
                placeholder="Date del appointment..." >
        </div>
        <div class="form-group">
            <label for="physio">Physio:</label>
            {% if errores.physio %}
                <p class="text-danger">{{ errores.physio }}</p>
            {% endif %}
            <select class="form-select" name="physio">
              <option selected>Open this select menu</option>
              {% for physio in physios %}
                <option value="{{physio._id}}">{{physio.name}} {{physio.surname}}</option>
              {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="diagnosis">Diagnosis:</label>
            {% if errores.diagnosis %}
                <p class="text-danger">{{ errores.diagnosis }}</p>
            {% endif %}
            <input type="text" class="form-control" name="diagnosis" 
                placeholder="Diagnosis del appointment..." >
        </div>
        <div class="form-group">
            <label for="treatment">Treatment:</label>
            {% if errores.treatment %}
                <p class="text-danger">{{ errores.treatment }}</p>
            {% endif %}
            <input type="text" class="form-control" name="treatment" 
                placeholder="Treatment del appointment..." >
        </div>
        <div class="form-group">
            <label for="observations">Observations:</label>
            {% if errores.observations %}
                <p class="text-danger">{{ errores.observations }}</p>
            {% endif %}
            <input type="text" class="form-control" name="observations" 
                placeholder="Observations del appointment..." >
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
{% endblock %}
